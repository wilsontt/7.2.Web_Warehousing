# 任務文件 (TASKS): 登入作業 (Login Operations)

**文件版本**: v1.0.0
**狀態**: 待執行 (Pending)
**建立日期**: 2025-11-27
**依據**: `2.plans/1.登入作業.plan.md`

---

## 任務清單 (Task List)

- [ ] **T-1-1-1: 建立 AuthContext** <!-- id: 12 -->
    - **目標**: 實作認證狀態管理邏輯。
    - **檔案**: `src/contexts/auth-context.tsx`
    - **內容**:
        - 定義 `AuthContextType` 介面。
        - 實作 `AuthProvider`。
        - 實作 `login` (mock 驗證)、`logout`、`errorCount`、`isLocked` 邏輯。
        - 使用 `localStorage` 持久化狀態。

- [ ] **T-1-1-2: 建立 ProtectedRoute 組件** <!-- id: 13 -->
    - **目標**: 實作路由守衛。
    - **檔案**: `src/components/auth/protected-route.tsx`
    - **內容**:
        - 檢查 `isAuthenticated`。
        - 若未登入，導向 `/login`。

- [ ] **T-1-1-3: 實作登入頁面 UI** <!-- id: 14 -->
    - **目標**: 建立符合設計規範的登入畫面。
    - **檔案**: `src/pages/Login.tsx`
    - **內容**:
        - 使用 Crown Logo。
        - 使用 React Hook Form + Zod 建立表單。
        - 實作密碼顯示/隱藏切換。
        - 整合 `AuthContext` 進行登入呼叫。
        - 實作錯誤訊息顯示與鎖定警告對話框 (Alert Dialog)。

- [ ] **T-1-1-4: 路由與 Header 整合** <!-- id: 15 -->
    - **目標**: 將登入頁面整合至應用程式路由，並更新 Header。
    - **檔案**: `src/App.tsx`, `src/components/layout/Header.tsx`
    - **內容**:
        - 在 `App.tsx` 設定 `/login` 路由。
        - 將主應用路由包裹在 `ProtectedRoute` 中。
        - 在 `Header` 使用者選單新增「登出」按鈕。

- [ ] **T-1-1-5: 驗證與測試** <!-- id: 16 -->
    - **目標**: 執行手動驗證計畫。
    - **內容**:
        - 驗證正常登入/登出。
        - 驗證錯誤次數計數與訊息。
        - 驗證 6 次錯誤鎖定機制。
        - 驗證路由保護。
