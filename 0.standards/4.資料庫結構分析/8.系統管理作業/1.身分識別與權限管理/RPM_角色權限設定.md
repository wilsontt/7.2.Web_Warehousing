# RPM
## 角色權限設定

## 📋 基本資訊

- **資料表名稱**: `RPM`
- **中文名稱**: 角色權限設定
- **欄位數量**: 6
- **產生時間**: 2025-12-02 11:00:00

## 📊 欄位清單

| 序號 | 欄位名稱 | 中文欄位(AI) | 資料型態 | 資料長度 | 可Null | 自動遞增欄位 | 外鍵 | FK參考 | 唯一值 | 欄位說明 | 英文欄名(Lovable) |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 1 | `PERM_ID` | 權限ID | bigint | - | ❌ | ✅ |  |  | ✅ | **PK (Snowflake ID)**。系統內部唯一識別碼。 | PermId |
| 2 | `ROLE_ID` | 角色ID | bigint | - | ❌ |  | ✅ | `ROL.ROLE_ID` |  | 關聯 `ROL` 表的角色 ID。 | RoleId |
| 3 | `FUNC_ID` | 功能ID | bigint | - | ❌ |  | ✅ | `FNC.FUNC_ID` |  | 關聯 `FNC` 表的功能 ID (含模組、選單、按鈕)。 | FuncId |
| 4 | `CRE_USERID` | 建檔人員 | bigint | - | ❌ |  | ✅ | `USR.USER_ID` |  | 建檔人員 (FK to `USR.USER_ID`)。 | CreatedBy |
| 5 | `CRE_DTIME` | 建檔日期時間 | datetime | - | ❌ |  |  |  |  | 建檔日期時間。 | CreatedAt |
| 6 | `REMARK` | 備註 | nvarchar | 100 | ✅ |  |  |  |  | 備註說明 (如：針對特殊專案開啟的權限)。 | Remark |

## 📈 統計資訊

- 🔑 **主鍵欄位**: 1
- 🆔 **Identity 欄位**: 1
- 🔗 **外鍵欄位**: 3
- 🔐 **唯一鍵欄位**: 1
- ✅ **允許空值欄位**: 1
- ❌ **不允許空值欄位**: 5

## 📝 設計備註
1. **授權模式**: 採用 **Item-Based (項目制)**。擁有此筆記錄即代表擁有該 `FUNC_ID` 的權限 (Allow List)。
2. **UI 實作邏輯**: 
   - **僅讀取**: 僅建立 `MENU` 類型的 `FUNC_ID` 關聯。
   - **可編輯**: 建立 `MENU` 類型以及其下屬 `ACTION` 類型 (Create, Edit, Delete) 的 `FUNC_ID` 關聯。
   - **檢視**: 支援「依角色檢視功能」與「依功能檢視角色」雙向樹狀視圖。

---
*此文件由 AI 專案顧問產生於 2025-12-02 11:00:00*

