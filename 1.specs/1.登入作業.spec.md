# 規格文件 (SPEC): 登入作業 (Login Operations)

**文件版本**: v1.0.0
**狀態**: 草稿 (Draft)
**建立日期**: 2025-11-27
**依據**: 
- `0.standards/0.專案憲章-總規範-SDD工作流程/1.專案憲章 Project Constitution.md`
- `0.standards/1. 登入作業/網站登入頁面-設計規範v2.md`
- `0.standards/0.專案憲章-總規範-SDD工作流程/2.文件倉儲管理系統 Warehouse Management System 設計規範v2.0.md`

---

## 1. 目的 (Purpose)
本模組旨在提供一個安全、直觀且符合公司資安政策的系統入口。確保只有經過授權的使用者才能存取系統，並防止未經授權的嘗試。

## 2. 範圍 (Scope)
- 登入頁面 (Login Page)
- 身份驗證邏輯 (Authentication Logic)
- 帳號鎖定機制 (Account Lockout)
- 登入後導向 (Post-login Redirection)
- 登出功能 (Logout)

## 3. 使用者故事 (User Stories)

### US-001: 系統登入
**作為** 一位系統使用者
**我想要** 輸入帳號和密碼進行登入
**以便於** 存取系統功能

**驗收條件 (Acceptance Criteria)**:
1.  **UI 呈現**: 登入頁面應包含「帳號」與「密碼」輸入框，以及「登入」按鈕。
2.  **密碼遮蔽**: 密碼輸入時預設以 `*` 或 `•` 遮蔽。
3.  **顯示密碼**: 提供「眼睛」圖示按鈕，點擊可切換顯示/隱藏密碼明碼。
4.  **驗證成功**: 輸入正確的帳號與密碼後，系統應導向至首頁 (Dashboard)。
5.  **驗證失敗**: 輸入錯誤的帳號或密碼時，系統應顯示錯誤訊息：「您輸入的帳號或密碼不正確，請重新輸入。錯誤次數 X 次。」。
6.  **必填檢查**: 若未輸入帳號或密碼直接點擊登入，應顯示必填欄位提示。

### US-002: 帳號鎖定機制
**作為** 系統管理員
**我想要** 系統在連續登入失敗時鎖定帳號
**以便於** 防止暴力破解攻擊

**驗收條件 (Acceptance Criteria)**:
1.  **錯誤計數**: 系統需記錄每個帳號的連續登入失敗次數。
2.  **鎖定觸發**: 當連續失敗次數達到 **6次** 時，系統應立即鎖定該帳號。
3.  **鎖定提示**: 帳號被鎖定時，應彈出警告對話框 (Alert Dialog)，顯示訊息：「您已連續輸入錯誤達 6 次，帳號已被鎖定。請與管理人員聯繫。」。
4.  **登入阻擋**: 鎖定後的帳號即使輸入正確密碼，也無法登入，並應再次顯示鎖定提示。

### US-003: 系統登出
**作為** 一位已登入的使用者
**我想要** 安全地登出系統
**以便於** 保護我的帳號不被他人使用

**驗收條件 (Acceptance Criteria)**:
1.  **登出入口**: 在系統頂部導覽列 (Header) 的使用者選單中，應提供「登出」選項。
2.  **登出行為**: 點擊登出後，應清除本地端的登入狀態 (Token/Session)，並將頁面重導向回登入頁面。

## 4. 非功能性需求 (Non-Functional Requirements)

### NFR-001: 安全性 (Security)
- **P2 設計即安全**: 密碼在傳輸過程中必須加密 (HTTPS)。
- 雖然目前階段使用模擬驗證 (Mock Auth)，但前端架構需預留對接真實 Identity Provider (IdP) 的彈性。

### NFR-002: 使用者體驗 (UX)
- **P8 一致性**: 登入頁面需遵循專案的設計規範（Crown Logo、配色、圓角按鈕）。
- **響應式設計**: 頁面需在桌面、平板與手機上皆能正常顯示與操作。

### NFR-003: 效能 (Performance)
- 登入驗證的回應時間應小於 1 秒（在網路正常情況下）。

## 5. 介面設計 (UI Design)
參考 `0.standards/1. 登入作業/網站登入頁面-設計規範v2.md` 中的描述：
- **Logo**: 頁面頂部或卡片上方顯示 Crown Logo。
- **佈局**: 登入表單應置於畫面中央 (Card 樣式)。
- **配色**: 淺色底、淡水藍色線條，符合現代化科技感。
